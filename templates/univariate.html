{% extends "base.html" %}
{% block content %}

<!--Data set title-->
<h3>Univariate Analysis</h3>

<!-- Toggle between variables -->

<div class="container dataset-menu">
        <span class="custom-dropdown custom-dropdown--white custom-dropdown--border">
            <select class="custom-dropdown__select custom-dropdown__select--white">
                {% for f in mydata.features %}
                <option>{{ f.feat_name }}</option>
                {% endfor %}
            </select>
        </span>
</div>

<!--
<select>
    <option>ID</option>
    <option>Passenger Name</option>
    <option>...</option>
</select>-->

<!-- Table with stats -->
{% for f in mydata.features %}
<div class="table-responsive">
    <table class="table table-striped">
        <thead>
        <tr>
            <th rowspan="2">
                {{ f.feat_name }}
            </th>
        </tr>
        </thead>
        <tr>
            <td>Name</td>
            <td>{{ f.feat_name }}</td>
        </tr>
        <tr>
            <td>Type</td>
            <td>{{ f.feat_type }}</td>
        </tr>
        <tr>
            <td>Count</td>
            <td>{{ f.feat_count }}</td>
        </tr>
        <tr>
            <td># Missing</td>
            <td>{{ f.feat_missing }}</td>
        </tr>
        <tr>
            <td># Unique</td>
            <td>{{ f.feat_unique }}</td>
        </tr>

        <!-- Numeric fields only -->
        {% if f.feat_average %}
        <tr>
            <td>Average</td>
            <td>{{ f.feat_average }}</td>
        </tr>
        {% endif %}
        {% if f.feat_median %}
        <tr>
            <td>Median</td>
            <td>{{ f.feat_median }}</td>
        </tr>
        {% endif %}
        {% if f.feat_max %}
        <tr>
            <td>Max</td>
            <td>{{ f.feat_max }}</td>
        </tr>
        {% endif %}
        {% if f.feat_min %}
        <tr>
            <td>Min</td>
            <td>{{ f.feat_min }}</td>
        </tr>
        {% endif %}
        {% if f.feat_stddev %}
        <tr>
            <td>Standard deviation</td>
            <td>{{ f.feat_stddev }}</td>
        </tr>
        {% endif %}
        {% if f.feat_variance %}
        <tr>
            <td>Variance</td>
            <td>{{ f.feat_variance }}</td>
        </tr>
        {% endif %}

        <!-- Categorical only -->
        {% if f.feat_mostcommon %}
        <tr>
            <td>Most common value</td>
            <td>{{ f.feat_mostcommon }}</td>
        </tr>
        {% endif %}
        {% if f.feat_leastcommon %}
        <tr>
            <td>Least common value</td>
            <td>{{ f.feat_leastcommon }}</td>
        </tr>
        {% endif %}

        <!-- range, quartile, IQR, variance, std dev, skewness and kurtosis -->
        <!-- outliers -->
    </table>
</div>
<br/>
{% endfor %}

<div>
    <!-- Histogram -->
    <!-- Box plot -->
</div>

<!-- Summary statistics organized in a table-->
<h4>Continuous variables</h4>
<div class="table-responsive">
    <table class="table table-striped">
        <thead>
        <tr>
            {% for h in data.headers %}
            <th>{{ h }}</th>
            {% endfor %}
        </tr>
        </thead>
        <tbody>
        {% for row in data.statslist %}
        <tr>
            {% for val in row %}
            <td>{{ val }}</td>
            {% endfor %}
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

<h4>Categorical variables</h4>
<div class="table-responsive">
    <table class="table table-striped">
        <thead>
        <tr>
            {% for h in data.headerscat %}
            <th>{{ h }}</th>
            {% endfor %}
        </tr>
        </thead>
        <tbody>
        {% for row in data.statslistcat %}
        <tr>
            {% for val in row %}
            <td>{{ val }}</td>
            {% endfor %}
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

<!-- Histograms -->
<h4>Histograms</h4>
<div class="table-responsive">
    <table class="table table-striped">
        <thead>
        <tr>
            <td>Feature</td>
            <td>Histogram</td>
        </tr>
        </thead>
        <tbody>
        {% for key in hist.hist_urls.keys() %}
        <tr>
            <td>{{ key }}</td>
            <td><img src="{{ hist.hist_urls[key] }}" /></td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

<!-- Count plots -->
<h4>Count Plots</h4>
<div class="table-responsive">
    <table class="table table-striped">
        <thead>
        <tr>
            <td>Feature</td>
            <td>Count plot</td>
        </tr>
        </thead>
        <tbody>
        {% for key in cplots.countplots_url.keys() %}
        <tr>
            <td>{{ key }}</td>
            <td><img src="{{ cplots.countplots_url[key] }}" /></td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}